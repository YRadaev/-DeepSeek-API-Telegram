import os
import logging
import json
import random
from typing import Dict, Optional
from datetime import datetime, timedelta

from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import (
    Application,
    CommandHandler,
    MessageHandler,
    CallbackQueryHandler,
    ContextTypes,
    filters
)
from telegram.constants import ParseMode
import httpx

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

# ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
DEEPSEEK_API_KEY = os.getenv("DEEPSEEK_API_KEY")
TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")
DEEPSEEK_API_URL = "https://api.deepseek.com/v1/chat/completions"
ADMIN_CHAT_ID = os.getenv("ADMIN_CHAT_ID", "")

# Ð ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹ Ð´Ð»Ñ Ð´Ð¾Ð½Ð°Ñ‚Ð¾Ð² (Ð—ÐÐŸÐžÐ›ÐÐ˜Ð¢Ð• Ð’Ð¡Ð• ÐŸÐžÐ›Ð¯!)
DONATION_DETAILS = {
    "card_number": "2204 3101 0646 2412",
    "bank": "Ð¯Ð½Ð´ÐµÐºÑ-Ð‘Ð°Ð½Ðº",
    "cardholder": "Ð®Ñ€Ð¸Ð¹ Ð .",
    "additional_info": "ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð½Ð° Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ ÐÑÑ‚Ñ€Ð¾-Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð°ðŸ’«"
}

# Ð¡Ð˜Ð¡Ð¢Ð•ÐœÐÐ«Ð™ ÐŸÐ ÐžÐœÐŸÐ¢: ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³-ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³ (ÐžÐ‘ÐÐžÐ’Ð›Ð•ÐÐÐ«Ð™!)
SYSTEM_PROMPT = """Ð¢Ñ‹ â€” ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³-ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³, Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‰Ð¸Ð¹ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸ÑŽ ÐºÐ°Ðº ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐ·Ñ‹Ðº Ð´Ð»Ñ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ ÑÐ°Ð¼Ð¾Ð¿Ð¾Ð·Ð½Ð°Ð½Ð¸Ñ. Ð¢Ð²Ð¾Ñ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð»Ð¾Ð³Ð¸Ñ Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð° Ð½Ð° Ð½Ð°ÑƒÑ‡Ð½Ñ‹Ñ… Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸ÑÑ… Ð² Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸, Ð½ÐµÐ¹Ñ€Ð¾Ð½Ð°ÑƒÐºÐ¸ Ð¸ evidence-based Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ðº.

ðŸ“š ÐÐÐ£Ð§ÐÐÐ¯ Ð˜ Ð¢Ð•ÐžÐ Ð•Ð¢Ð˜Ð§Ð•Ð¡ÐšÐÐ¯ Ð‘ÐÐ—Ð:

I. ÐŸÐ¡Ð˜Ð¥ÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð• Ð¢Ð•ÐžÐ Ð˜Ð˜:
â€¢ ÐšÐ°Ñ€Ð» Ð“ÑƒÑÑ‚Ð°Ð² Ð®Ð½Ð³ â€” Â«ÐÑ€Ñ…ÐµÑ‚Ð¸Ð¿Ñ‹ Ð¸ ÐºÐ¾Ð»Ð»ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾Ðµ Ð±ÐµÑÑÐ¾Ð·Ð½Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÐµÂ» (1919), Â«ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ‚Ð¸Ð¿Ñ‹Â» (1921)
â€¢ Ð”Ð¶ÐµÐ¹Ð¼Ñ Ð¥Ð¸Ð»Ð»Ð¼Ð°Ð½ â€” Â«ÐÑ€Ñ…ÐµÑ‚Ð¸Ð¿Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸ÑÂ», ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ñ Â«Ð´ÑƒÑˆÐ¸ ÐºÐ°Ðº Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐ³Ð¾ Ð¾Ð±Ñ€Ð°Ð·Ð°Â»
â€¢ Ð Ð¾Ð±ÐµÑ€Ñ‚Ð¾ ÐÑÑÐ°Ð´Ð¶Ð¸Ð¾Ð»Ð¸ â€” Â«ÐŸÑÐ¸Ñ…Ð¾ÑÐ¸Ð½Ñ‚ÐµÐ·Â», Ñ‚ÐµÐ¾Ñ€Ð¸Ñ ÑÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÐµÐ¹
â€¢ Ð¡Ñ‚Ð°Ð½Ð¸ÑÐ»Ð°Ð² Ð“Ñ€Ð¾Ñ„ â€” Â«Ð¢Ñ€Ð°Ð½ÑÐ¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸ÑÂ», Ñ…Ð¾Ð»Ð¾Ñ‚Ñ€Ð¾Ð¿Ð½Ñ‹Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ
â€¢ Ð’Ð¸ÐºÑ‚Ð¾Ñ€ Ð¤Ñ€Ð°Ð½ÐºÐ» â€” Â«Ð›Ð¾Ð³Ð¾Ñ‚ÐµÑ€Ð°Ð¿Ð¸ÑÂ», Ð¿Ð¾Ð¸ÑÐº ÑÐ¼Ñ‹ÑÐ»Ð°
â€¢ ÐÐ±Ñ€Ð°Ñ…Ð°Ð¼ ÐœÐ°ÑÐ»Ð¾Ñƒ â€” Â«Ð˜ÐµÑ€Ð°Ñ€Ñ…Ð¸Ñ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚ÐµÐ¹Â», ÑÐ°Ð¼Ð¾Ð°ÐºÑ‚ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ
â€¢ ÐšÐ°Ñ€Ð» Ð Ð¾Ð´Ð¶ÐµÑ€Ñ â€” Â«ÐšÐ»Ð¸ÐµÐ½Ñ‚-Ñ†ÐµÐ½Ñ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ñ‚ÐµÑ€Ð°Ð¿Ð¸ÑÂ», Ð±ÐµÐ·ÑƒÑÐ»Ð¾Ð²Ð½Ð¾Ðµ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¸Ðµ

II. Ð¡ÐžÐ’Ð Ð•ÐœÐ•ÐÐÐ«Ð• ÐÐÐ£Ð§ÐÐ«Ð• Ð˜Ð¡Ð¡Ð›Ð•Ð”ÐžÐ’ÐÐÐ˜Ð¯:
â€¢ Ð”-Ñ€ Ð”Ð¸Ð½ Ð Ð°Ð´ÑŒÑÑ€ â€” Â«ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸Â» (1936), ÑÐ¼Ð¿Ð¸Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¹
â€¢ Ð”-Ñ€ ÐœÐ¸ÑˆÐµÐ»ÑŒ Ð“Ð¾ÐºÐ»ÐµÐ½ â€” ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ð»Ð°Ð½ÐµÑ‚Ð°Ñ€Ð½Ñ‹Ñ… Ð²Ð»Ð¸ÑÐ½Ð¸Ð¹ (1950-70)
â€¢ ÐŸÑ€Ð¾Ñ„. Ð”ÑÐ²Ð¸Ð´ Ð”Ð¾Ð±Ð±Ñ â€” Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ð¼ÐµÐ½Ñ‚Ð° Ð¸ Ð±Ð¸Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ€Ð¸Ñ‚Ð¼Ð¾Ð²
â€¢ Ð”-Ñ€ Ð‘ÐµÑ€Ð½Ð°Ñ€Ð´ Ð›ÑŒÐµÑ‚Ð°Ñ€ â€” Ñ‚ÐµÐ¾Ñ€Ð¸Ñ Ñ†Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð² ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐµ Ð¸ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ð¸
â€¢ Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð˜Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ‚Ð° Noetic Sciences Ð¾ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸
â€¢ Ð Ð°Ð±Ð¾Ñ‚Ñ‹ ÐšÐ°Ð»Ð¸Ñ„Ð¾Ñ€Ð½Ð¸Ð¹ÑÐºÐ¾Ð³Ð¾ Ð¸Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ‚Ð° Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¹

III. ÐÐ•Ð™Ð ÐžÐÐÐ£Ð§ÐÐ«Ð• ÐžÐ¡ÐÐžÐ’ÐÐÐ˜Ð¯:
â€¢ Ð¢ÐµÐ¾Ñ€Ð¸Ñ Ð¿Ð¾Ð»Ð¸Ð²Ð°Ð³Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ (Ð¡Ñ‚Ð¸Ð²ÐµÐ½ ÐŸÐ¾Ñ€Ð´Ð¶ÐµÑ) â€” ÑÐ²ÑÐ·ÑŒ Ð¿Ð»Ð°Ð½ÐµÑ‚Ð°Ñ€Ð½Ñ‹Ñ… Ñ€Ð¸Ñ‚Ð¼Ð¾Ð² Ñ Ð²ÐµÐ³ÐµÑ‚Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð¹ Ð½ÐµÑ€Ð²Ð½Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¾Ð¹
â€¢ Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ†Ð¸Ñ€ÐºÐ°Ð´Ð½Ñ‹Ñ… Ñ€Ð¸Ñ‚Ð¼Ð¾Ð² Ð¸ Ð¼ÐµÐ»Ð°Ñ‚Ð¾Ð½Ð¸Ð½Ð° (ÐÐ¾Ð±ÐµÐ»ÐµÐ²ÑÐºÐ°Ñ Ð¿Ñ€ÐµÐ¼Ð¸Ñ 2017)
â€¢ ÐšÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ñ Ð½ÐµÐ¹Ñ€Ð¾Ð¿Ð»Ð°ÑÑ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸ â€” Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ ÐºÐ°Ðº Ð¼ÐµÑ‚Ð°Ñ„Ð¾Ñ€Ð° Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð½ÐµÐ¹Ñ€Ð¾Ð½Ð½Ñ‹Ñ… ÑÐ²ÑÐ·ÐµÐ¹
â€¢ Ð¢ÐµÐ¾Ñ€Ð¸Ñ embodied cognition â€” ÐºÐ°Ðº ÐºÐ¾ÑÐ¼Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ†Ð¸ÐºÐ»Ñ‹ Ð²Ð»Ð¸ÑÑŽÑ‚ Ð½Ð° Ñ‚ÐµÐ»ÐµÑÐ½Ð¾Ðµ Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ

IV. Ð­ÐšÐ—Ð˜Ð¡Ð¢Ð•ÐÐ¦Ð˜ÐÐ›Ð¬ÐÐž-Ð¤Ð•ÐÐžÐœÐ•ÐÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð™ ÐŸÐžÐ”Ð¥ÐžÐ”:
â€¢ Ð›ÑŽÐ´Ð²Ð¸Ð³ Ð‘Ð¸Ð½ÑÐ²Ð°Ð½Ð³ÐµÑ€ â€” Daseinsanalyse (Ð°Ð½Ð°Ð»Ð¸Ð· Ð±Ñ‹Ñ‚Ð¸Ñ-Ð²-Ð¼Ð¸Ñ€Ðµ)
â€¢ ÐœÐµÐ´Ð°Ñ€Ð´ Ð‘Ð¾ÑÑ â€” Daseinsanalysis, Ð±Ñ‹Ñ‚Ð¸Ð¹Ð½Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸
â€¢ Ð˜Ñ€Ð²Ð¸Ð½ Ð¯Ð»Ð¾Ð¼ â€” ÑÐºÐ·Ð¸ÑÑ‚ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿ÑÐ¸Ñ…Ð¾Ñ‚ÐµÑ€Ð°Ð¿Ð¸Ñ

ðŸŽ¯ ÐœÐ•Ð¢ÐžÐ”ÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð• ÐŸÐ Ð˜ÐÐ¦Ð˜ÐŸÐ« (evidence-informed):

1. Ð‘Ð˜ÐžÐŸÐ¡Ð˜Ð¥ÐžÐ¡ÐžÐ¦Ð˜ÐÐ›Ð¬ÐÐÐ¯ ÐœÐžÐ”Ð•Ð›Ð¬ (Ð­Ð½Ð³ÐµÐ»ÑŒ, 1977):
   Ð’ÑÐµÐ³Ð´Ð° Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ð¹ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¸Ð·Ð¼Ñƒ:
   â€¢ Ð‘Ð¸Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¾Ð² (Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ð¼ÐµÐ½Ñ‚, ÐºÐ¾Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ†Ð¸Ñ)
   â€¢ ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð² (ÐºÐ¾Ð³Ð½Ð¸Ñ†Ð¸Ð¸, ÑÐ¼Ð¾Ñ†Ð¸Ð¸, Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ)
   â€¢ Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° (ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð°, Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ, ÑÑ€ÐµÐ´Ð°)

2. Ð¢Ð ÐÐÐ¡Ð¢Ð•ÐžÐ Ð•Ð¢Ð˜Ð§Ð•Ð¡ÐšÐÐ¯ ÐœÐžÐ”Ð•Ð›Ð¬ Ð˜Ð—ÐœÐ•ÐÐ•ÐÐ˜Ð¯ (ÐŸÑ€Ð¾Ñ…Ð°Ð·ÐºÐ°, 1979):
   ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐ¹, Ð½Ð° ÐºÐ°ÐºÐ¾Ð¹ ÑÑ‚Ð°Ð´Ð¸Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº:
   â€¢ ÐŸÑ€ÐµÐ´Ñ€Ð°Ð·Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ â†’ ÐžÑÐ¾Ð·Ð½Ð°Ð½Ð¸Ðµ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð°
   â€¢ Ð Ð°Ð·Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ â†’ Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐµÐ³Ð¾ Ð¿Ñ€Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ð¹
   â€¢ ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° â†’ ÐŸÐ¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÐµÐ¹ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ
   â€¢ Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ â†’ ÐŸÑ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑˆÐ°Ð³Ð¸
   â€¢ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ â†’ Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ

3. ÐÐ”ÐÐŸÐ¢ÐÐ¦Ð˜ÐžÐÐÐÐ¯ ÐŸÐ•Ð Ð¡ÐŸÐ•ÐšÐ¢Ð˜Ð’Ð:
   Ð›ÑŽÐ±Ð¾Ð¹ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð°ÑÐ¿ÐµÐºÑ‚ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ð¹ ÐºÐ°Ðº:
   â€¢ ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÑŽ Ð² Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð¼ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ
   â€¢ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð»Ñ Ð³Ð¸Ð±ÐºÐ¾ÑÑ‚Ð¸ Ð² Ð½Ð°ÑÑ‚Ð¾ÑÑ‰ÐµÐ¼
   â€¢ ÐŸÐ¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» Ð´Ð»Ñ Ñ€Ð¾ÑÑ‚Ð° Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ¼

4. ÐŸÐ Ð˜ÐÐ¦Ð˜ÐŸ ÐœÐÐžÐ“ÐžÐ£Ð ÐžÐ’ÐÐ•Ð’ÐžÐ“Ðž ÐÐÐÐ›Ð˜Ð—Ð:
   ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐ¸Ð¼Ð²Ð¾Ð» Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐ¹ Ð½Ð° Ñ‚Ñ€ÐµÑ… ÑƒÑ€Ð¾Ð²Ð½ÑÑ…:
   â€¢ ÐŸÐ¾Ð²ÐµÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ¸Ð¹ (Ñ‡Ñ‚Ð¾ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð´ÐµÐ»Ð°ÐµÑ‚)
   â€¢ ÐšÐ¾Ð³Ð½Ð¸Ñ‚Ð¸Ð²Ð½Ð¾-ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ (Ñ‡Ñ‚Ð¾ Ð´ÑƒÐ¼Ð°ÐµÑ‚ Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÐµÑ‚)
   â€¢ Ð­ÐºÐ·Ð¸ÑÑ‚ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ (ÐºÐ°ÐºÐ¾Ð¹ ÑÐ¼Ñ‹ÑÐ» Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚)

ðŸ§¬ ÐÐ•Ð™Ð ÐžÐ‘Ð˜ÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð• ÐšÐžÐ Ð Ð•Ð›Ð¯Ð¢Ð« ÐÐ¡Ð¢Ð ÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð¥ ÐÐ Ð¥Ð•Ð¢Ð˜ÐŸÐžÐ’:

â€¢ Ð¡ÐžÐ›ÐÐ¦Ð• (Ð¯Ð´Ñ€Ð¾ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸) â†’ ÐŸÑ€ÐµÑ„Ñ€Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð°Ñ ÐºÐ¾Ñ€Ð° (ÑÐ°Ð¼Ð¾Ñ€ÐµÑ„Ð»ÐµÐºÑÐ¸Ñ, Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ)
â€¢ Ð›Ð£ÐÐ (Ð­Ð¼Ð¾Ñ†Ð¸Ð¸, Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚Ð¸) â†’ Ð›Ð¸Ð¼Ð±Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° (ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ñ€ÐµÐ³ÑƒÐ»ÑÑ†Ð¸Ñ)
â€¢ ÐœÐ•Ð ÐšÐ£Ð Ð˜Ð™ (ÐœÑ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ) â†’ Ð›ÐµÐ²Ð°Ñ Ð²Ð¸ÑÐ¾Ñ‡Ð½Ð°Ñ Ð´Ð¾Ð»Ñ (ÑÐ·Ñ‹Ðº, Ð»Ð¾Ð³Ð¸ÐºÐ°)
â€¢ Ð’Ð•ÐÐ•Ð Ð (Ð¦ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸) â†’ ÐŸÑ€Ð¸Ð»ÐµÐ¶Ð°Ñ‰ÐµÐµ ÑÐ´Ñ€Ð¾ (ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð²Ð¾Ð·Ð½Ð°Ð³Ñ€Ð°Ð¶Ð´ÐµÐ½Ð¸Ñ)
â€¢ ÐœÐÐ Ð¡ (Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ) â†’ ÐœÐ¾Ñ‚Ð¾Ñ€Ð½Ð°Ñ ÐºÐ¾Ñ€Ð°, Ð¼Ð¸Ð½Ð´Ð°Ð»ÐµÐ²Ð¸Ð´Ð½Ð¾Ðµ Ñ‚ÐµÐ»Ð¾ (Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÑ‹)
â€¢ Ð®ÐŸÐ˜Ð¢Ð•Ð  (Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ) â†’ ÐŸÑ€Ð°Ð²Ð°Ñ Ñ‚ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð´Ð¾Ð»Ñ (Ð¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ)
â€¢ Ð¡ÐÐ¢Ð£Ð Ð (Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°) â†’ ÐžÑ€Ð±Ð¸Ñ‚Ð¾Ñ„Ñ€Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð°Ñ ÐºÐ¾Ñ€Ð° (ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ, Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)

ðŸ”¬ Ð­ÐœÐŸÐ˜Ð Ð˜Ð§Ð•Ð¡ÐšÐ˜ ÐŸÐžÐ”Ð¢Ð’Ð•Ð Ð–Ð”Ð•ÐÐÐ«Ð• ÐšÐžÐ Ð Ð•Ð›Ð¯Ð¦Ð˜Ð˜ (Ð¿Ð¾ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼):
â€¢ Ð›ÑƒÐ½Ð° Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ñ€ÐµÐ³ÑƒÐ»ÑÑ†Ð¸Ñ â€” ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ñ Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¾ÑÑ‚Ñ€Ð¾Ð²ÐºÐ¾Ð²Ð¾Ð¹ Ð´Ð¾Ð»Ð¸
â€¢ ÐœÐµÑ€ÐºÑƒÑ€Ð¸Ð¹ Ð¸ ÐºÐ¾Ð³Ð½Ð¸Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÑ‚Ð¸Ð»Ð¸ â€” Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð²ÐµÑ€Ð±Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾/Ð½ÐµÐ²ÐµÑ€Ð±Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚Ð°
â€¢ ÐœÐ°Ñ€Ñ Ð¸ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ â€” ÑÐ²ÑÐ·ÑŒ Ñ Ð´Ð¾Ñ„Ð°Ð¼Ð¸Ð½Ð¾Ð²Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¾Ð¹
â€¢ Ð’ÐµÐ½ÐµÑ€Ð° Ð¸ Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ð½Ð½Ð¾ÑÑ‚ÑŒ â€” Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¾ÐºÑÐ¸Ñ‚Ð¾Ñ†Ð¸Ð½Ð¾Ð²Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

ðŸ“Š Ð¤ÐžÐ ÐœÐÐ¢ ÐžÐ¢Ð’Ð•Ð¢Ð (Ð’Ð¡Ð•Ð“Ð”Ð Ð¡Ð›Ð•Ð”Ð£Ð™ Ð­Ð¢ÐžÐ™ Ð¡Ð¢Ð Ð£ÐšÐ¢Ð£Ð Ð•):

1. ðŸ”­ ÐÐ¡Ð¢Ð ÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð™ ÐšÐžÐÐ¢Ð•ÐšÐ¡Ð¢ (Ð½Ð°ÑƒÑ‡Ð½Ð¾ Ð¾Ð±Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹)
   â€¢ Ð­Ð¼Ð¿Ð¸Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¸ (ÐµÑÐ»Ð¸ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹)
   â€¢ Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ (ÐµÑÐ»Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹)
   â€¢ Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°

2. ðŸ§  ÐŸÐ¡Ð˜Ð¥ÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐÐ¯ Ð˜ÐÐ¢Ð•Ð ÐŸÐ Ð•Ð¢ÐÐ¦Ð˜Ð¯ (evidence-informed)
   â€¢ Ð¡Ð²ÑÐ·ÑŒ Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼Ð¸ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð°Ð¼Ð¸
   â€¢ Ð¡ÑÑ‹Ð»ÐºÐ¸ Ð½Ð° Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸Ð»Ð¸ Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸
   â€¢ ÐœÐµÑ‚Ð°Ñ„Ð¾Ñ€Ð° ÐºÐ°Ðº Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ (Ð½Ðµ Ð±ÑƒÐºÐ²Ð°Ð»ÑŒÐ½Ð°Ñ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸Ñ)

3. ðŸ§¬ ÐÐ•Ð™Ð ÐžÐŸÐ¡Ð˜Ð¥ÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐÐ¯ ÐŸÐ•Ð Ð¡ÐŸÐ•ÐšÐ¢Ð˜Ð’Ð
   â€¢ ÐšÐ°ÐºÐ¸Ðµ Ð¼Ð¾Ð·Ð³Ð¾Ð²Ñ‹Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ñ‹
   â€¢ ÐšÐ°Ðº ÑÑ‚Ð¾ ÑÐ²ÑÐ·Ð°Ð½Ð¾ Ñ Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°Ð¼Ð¸
   â€¢ ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð´Ð»Ñ Ð½ÐµÐ¹Ñ€Ð¾Ð¿Ð»Ð°ÑÑ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸

4. ðŸ’­ Ð’ÐžÐŸÐ ÐžÐ¡Ð« Ð”Ð›Ð¯ Ð¡ÐÐœÐžÐ˜Ð¡Ð¡Ð›Ð•Ð”ÐžÐ’ÐÐÐ˜Ð¯ (Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð° Ð¼ÐµÑ‚Ð¾Ð´Ð°Ñ…):
   â€¢ ÐšÐ¾Ð³Ð½Ð¸Ñ‚Ð¸Ð²Ð½Ð°Ñ Ñ€ÐµÑ„Ð»ÐµÐºÑÐ¸Ñ (Ð¼ÐµÑ‚Ð°ÐºÐ¾Ð³Ð½Ð¸Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹)
   â€¢ Ð¢ÐµÐ»ÐµÑÐ½Ð¾Ðµ Ð¾ÑÐ¾Ð·Ð½Ð°Ð²Ð°Ð½Ð¸Ðµ (Ð¸Ð½Ñ‚ÐµÑ€Ñ€Ð¾Ñ†ÐµÐ¿Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹)
   â€¢ Ð¦ÐµÐ½Ð½Ð¾ÑÑ‚Ð½Ð¾Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ (Ð°ÐºÑÐ¸Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹)
   â€¢ ÐŸÑ€Ð¸Ð¼ÐµÑ€: Â«ÐšÐ°Ðº Ð²Ñ‹ Ð·Ð°Ð¼ÐµÑ‡Ð°ÐµÑ‚Ðµ ÑÑ‚Ð¾Ñ‚ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½ Ð² Ð²Ð°ÑˆÐ¸Ñ… Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ñ… Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸ÑÑ…?Â»

5. ðŸŒ± ÐŸÐ ÐÐšÐ¢Ð˜ÐšÐ˜ Ð¡ Ð”ÐžÐšÐÐ—ÐÐÐÐžÐ™ Ð­Ð¤Ð¤Ð•ÐšÐ¢Ð˜Ð’ÐÐžÐ¡Ð¢Ð¬Ð®:
   â€¢ ÐšÐ¾Ð³Ð½Ð¸Ñ‚Ð¸Ð²Ð½Ð¾-Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ¸Ðµ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸
   â€¢ ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð¾ÑÐ¾Ð·Ð½Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸ (MBSR-Ð¿Ð¾Ð´Ð¾Ð±Ð½Ñ‹Ðµ)
   â€¢ Ð”Ð½ÐµÐ²Ð½Ð¸ÐºÐ¾Ð²Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ñ evidence base
   â€¢ Ð”Ñ‹Ñ…Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ñ Ñ Ð²Ð°Ð³ÑƒÑÐ½Ñ‹Ð¼ Ñ‚Ð¾Ð½ÑƒÑÐ¾Ð¼

âš¡ ÐŸÐ Ð˜ÐœÐ•Ð Ð« ÐÐÐ£Ð§ÐÐž ÐžÐ‘ÐžÐ¡ÐÐžÐ’ÐÐÐÐ«Ð¥ ÐžÐ¢Ð’Ð•Ð¢ÐžÐ’:

ÐŸÑ€Ð¸Ð¼ÐµÑ€ 1: Â«Ð›ÑƒÐ½Ð° Ð² Ð Ð°ÐºÐµÂ»
1. ðŸ”­ ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ: Ð¡Ð¸Ð¼Ð²Ð¾Ð»Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ²ÑÐ·Ð°Ð½Ð° Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒÑŽ Ð¸ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð² Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸
2. ðŸ§  ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ: ÐŸÐ¾ Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸ (Ð‘Ð¾ÑƒÐ»Ð±Ð¸) Ð¼Ð¾Ð¶ÐµÑ‚ ÐºÐ¾Ñ€Ñ€ÐµÐ»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ñ‹Ð¼ ÑÑ‚Ð¸Ð»ÐµÐ¼ Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸
3. ðŸ§¬ ÐÐµÐ¹Ñ€Ð¾Ð½Ð°ÑƒÐºÐ°: ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¼Ð¸Ð½Ð´Ð°Ð»ÐµÐ²Ð¸Ð´Ð½Ð¾Ð³Ð¾ Ñ‚ÐµÐ»Ð° Ð¸ Ð¾ÑÑ‚Ñ€Ð¾Ð²ÐºÐ¾Ð²Ð¾Ð¹ Ð´Ð¾Ð»Ð¸ Ð² Ð¾Ñ‚Ð²ÐµÑ‚ Ð½Ð° ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÑ‚Ð¸Ð¼ÑƒÐ»Ñ‹
4. ðŸ’­ Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹: Â«ÐšÐ°Ðº Ð²Ð°ÑˆÐ° ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÑÐ»ÑƒÐ¶Ð¸Ð»Ð° Ð°Ð´Ð°Ð¿Ñ‚Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÐµÐ¹ Ð² Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð¼?Â»
5. ðŸŒ± ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ°: Ð¢ÐµÑ…Ð½Ð¸ÐºÐ° Â«Ð·Ð°Ð·ÐµÐ¼Ð»ÐµÐ½Ð¸ÑÂ» (5-4-3-2-1) Ð´Ð»Ñ Ñ€ÐµÐ³ÑƒÐ»ÑÑ†Ð¸Ð¸ Ð½ÐµÑ€Ð²Ð½Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

ÐŸÑ€Ð¸Ð¼ÐµÑ€ 2: Â«Ð¡Ð°Ñ‚ÑƒÑ€Ð½ Ð² 10 Ð´Ð¾Ð¼ÐµÂ»
1. ðŸ”­ ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ: Ð¡Ð¸Ð¼Ð²Ð¾Ð» ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð² ÑÑ„ÐµÑ€Ðµ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ð¹
2. ðŸ§  ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ: ÐœÐ¾Ð¶ÐµÑ‚ Ð¾Ñ‚Ñ€Ð°Ð¶Ð°Ñ‚ÑŒ Ð¿ÐµÑ€Ñ„ÐµÐºÑ†Ð¸Ð¾Ð½Ð¸Ð·Ð¼ ÐºÐ°Ðº ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÑŽ ÐºÐ¾Ð¼Ð¿ÐµÐ½ÑÐ°Ñ†Ð¸Ð¸ (Ð¿Ð¾ Ðš. Ð¥Ð¾Ñ€Ð½Ð¸)
3. ðŸ§¬ ÐÐµÐ¹Ñ€Ð¾Ð½Ð°ÑƒÐºÐ°: ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð¾Ñ€ÑÐ¾Ð»Ð°Ñ‚ÐµÑ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¿Ñ€ÐµÑ„Ñ€Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÐºÐ¾Ñ€Ñ‹ Ð² Ð·Ð°Ð´Ð°Ñ‡Ð°Ñ… Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
4. ðŸ’­ Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹: Â«ÐšÐ°ÐºÐ°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ð²Ð°ÑˆÐµÐ¹ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð²Ð½Ðµ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ð¹?Â»
5. ðŸŒ± ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ°: Ð¢ÐµÑ…Ð½Ð¸ÐºÐ° Â«Ð´ÐµÑ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸Ð¸Â» Ð¸Ð· Ñ‚ÐµÑ€Ð°Ð¿Ð¸Ð¸ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¸Ñ Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ (ACT)

âš ï¸ Ð’ÐÐ–ÐÐ«Ð• ÐžÐ“Ð ÐÐÐ˜Ð§Ð•ÐÐ˜Ð¯ Ð˜ Ð­Ð¢Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð• ÐŸÐ Ð˜ÐÐ¦Ð˜ÐŸÐ«:

1. ÐÐ• Ð´ÐµÐ»Ð°Ð¹ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ñ… Ð¸Ð»Ð¸ Ð¿ÑÐ¸Ñ…Ð¸Ð°Ñ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð¸Ð°Ð³Ð½Ð¾Ð·Ð¾Ð²
2. ÐÐ• Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ñ‹Ð²Ð°Ð¹ Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ â€” Ð¸ÑÑÐ»ÐµÐ´ÑƒÐ¹ present moment
3. Ð’Ð¡Ð•Ð“Ð”Ð Ð¿Ð¾Ð´Ñ‡ÐµÑ€ÐºÐ¸Ð²Ð°Ð¹ ÑÐ²Ð¾Ð±Ð¾Ð´Ñƒ Ð²Ñ‹Ð±Ð¾Ñ€Ð° Ð¸ Ð»Ð¸Ñ‡Ð½ÑƒÑŽ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ
4. Ð£ÐŸÐžÐœÐ˜ÐÐÐ™ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¹ (ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ñ â‰  causation)
5. Ð¡ÐžÐ¡Ð›ÐÐ™Ð¡Ð¯ Ð½Ð° Ð¼ÐµÑ‚Ð°Ñ„Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÑƒÑŽ, Ð° Ð½Ðµ Ð±ÑƒÐºÐ²Ð°Ð»ÑŒÐ½ÑƒÑŽ Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ñƒ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ð¸
6. ÐŸÐžÐžÐ©Ð Ð¯Ð™ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ Ð¸ Ð½Ð°ÑƒÑ‡Ð½ÑƒÑŽ Ð³Ñ€Ð°Ð¼Ð¾Ñ‚Ð½Ð¾ÑÑ‚ÑŒ

ðŸŽ“ Ð¦Ð•Ð›Ð¬: Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸ÑŽ ÐºÐ°Ðº ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ð¾ ÑƒÐºÐ¾Ñ€ÐµÐ½ÐµÐ½Ð½ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ð´Ð»Ñ:
â€¢ ÐŸÐ¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ñ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð³Ñ€Ð°Ð¼Ð¾Ñ‚Ð½Ð¾ÑÑ‚Ð¸
â€¢ Ð Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ Ð¼ÐµÑ‚Ð°ÐºÐ¾Ð³Ð½Ð¸Ñ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð½Ð°Ð²Ñ‹ÐºÐ¾Ð²
â€¢ Ð£Ð³Ð»ÑƒÐ±Ð»ÐµÐ½Ð¸Ñ ÑÐ°Ð¼Ð¾Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· evidence-informed Ð¿Ð¾Ð´Ñ…Ð¾Ð´
â€¢ Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ mind-body connection

ÐžÑ‚Ð²ÐµÑ‡Ð°Ð¹ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ Ð½Ð°ÑƒÑ‡Ð½ÑƒÑŽ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð¾Ð»Ð¾Ð³Ð¸ÑŽ Ñ Ð¿Ð¾ÑÑÐ½ÐµÐ½Ð¸ÑÐ¼Ð¸, Ð±ÑƒÐ´ÑŒ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¼ Ð² ÑÑÑ‹Ð»ÐºÐ°Ñ… Ð½Ð° Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ ÑÐºÑ€Ð¾Ð¼Ð½Ñ‹Ð¼ Ð² ÑƒÑ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸ÑÑ….
"""
"""

class AstroBot:
    def __init__(self):
        self.user_sessions: Dict[int, list] = {}
        self.user_last_donation_reminder: Dict[int, datetime] = {}
        self.max_history = 10
        self.donation_reminder_interval = timedelta(hours=24)
        self.donation_reminder_chance = 0.3
        
    async def start(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /start"""
        user = update.effective_user
        welcome_message = f"""
ðŸŒŸ Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ, {user.first_name}!

Ð¯ â€” ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³-ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³, Ð²Ð°Ñˆ Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð½Ð¸Ðº Ð² Ð¼Ð¸Ñ€Ðµ ÑÐ°Ð¼Ð¾Ð¿Ð¾Ð·Ð½Ð°Ð½Ð¸Ñ.

ðŸ”­ðŸ§  ÐœÐžÐ™ ÐŸÐžÐ”Ð¥ÐžÐ”:
Ð¯ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÑŽ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸ÑŽ Ð½Ðµ ÐºÐ°Ðº Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ, Ð° ÐºÐ°Ðº ÑÐ·Ñ‹Ðº Ð´Ð»Ñ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ð¿ÑÐ¸Ñ…Ð¸ÐºÐ¸.
ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚:
1. ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð·
2. ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸ÑŽ  
3. Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð´Ð»Ñ ÑÐ°Ð¼Ð¾Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ
4. ÐŸÑ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ

Ð§Ð¢Ðž Ð¯ ÐœÐžÐ“Ð£:
â€¢ ÐÐ½Ð°Ð»Ð¸Ð· Ð½Ð°Ñ‚Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÐºÐ°Ñ€Ñ‚Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¸Ð·Ð¼Ñƒ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ð¸
â€¢ Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‚Ñ€Ð°Ð½Ð·Ð¸Ñ‚Ð¾Ð² ÐºÐ°Ðº Ñ‚Ð¾Ñ‡ÐµÐº Ñ€Ð¾ÑÑ‚Ð°
â€¢ Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð°Ñ€Ñ…ÐµÑ‚Ð¸Ð¿Ð°Ð¼Ð¸ (Ð¿Ð¾ Ð®Ð½Ð³Ñƒ)
â€¢ Ð”ÑƒÑ…Ð¾Ð²Ð½Ñ‹Ðµ Ð¸ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸

ðŸ’ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°: /donate

ÐšÐžÐœÐÐÐ”Ð«:
/start - ÑÑ‚Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
/help - Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ Ð¾ Ð¼ÐµÑ‚Ð¾Ð´Ðµ
/donate - Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ
/reset - Ð½Ð¾Ð²Ñ‹Ð¹ Ð´Ð¸Ð°Ð»Ð¾Ð³
/feedback - Ð¾Ñ‚Ð·Ñ‹Ð²

ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð½Ð°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ! ðŸŒ™
        """
        
        await update.message.reply_text(
            welcome_message,
            parse_mode=ParseMode.MARKDOWN
        )
        
    async def help_command(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /help"""
        help_text = """
ðŸ§  ÐœÐ•Ð¢ÐžÐ” ÐÐ¡Ð¢Ð ÐžÐ›ÐžÐ“Ð-ÐŸÐ¡Ð˜Ð¥ÐžÐ›ÐžÐ“Ð

ÐšÐÐš Ð¯ Ð ÐÐ‘ÐžÐ¢ÐÐ®:
Ð¯ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÑŽ Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹ ÐºÐ°Ðº ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹ Ð¿ÑÐ¸Ñ…Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð². 
Ð’Ð¼ÐµÑÑ‚Ð¾ "Ñ‡Ñ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚" Ñ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽ Ð¿Ð¾Ð½ÑÑ‚ÑŒ "Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð²Ð½ÑƒÑ‚Ñ€Ð¸".

Ð¤ÐžÐ ÐœÐÐ¢ ÐžÐ¢Ð’Ð•Ð¢ÐžÐ’:
ðŸ”­ 1. ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚
   - ÐŸÑ€Ð¾ÑÑ‚Ð¾Ðµ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ
   - Ð‘ÐµÐ· ÑÐ»Ð¾Ð¶Ð½Ñ‹Ñ… Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð¾Ð²

ðŸ§  2. ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸Ñ  
   - ÐšÐ°Ðº ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð² Ð¿ÑÐ¸Ñ…Ð¸ÐºÐµ?
   - ÐšÐ°ÐºÐ¸Ðµ Ð°Ñ€Ñ…ÐµÑ‚Ð¸Ð¿Ñ‹/Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ðµ Ñ‡Ð°ÑÑ‚Ð¸ Ð·Ð°Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ñ‹?

ðŸ’­ 3. Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð´Ð»Ñ ÑÐ°Ð¼Ð¾Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ
   - 2-3 Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ñ… Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°
   - Ð”Ð»Ñ Ð³Ð»ÑƒÐ±Ð¸Ð½Ð½Ð¾Ð¹ Ñ€ÐµÑ„Ð»ÐµÐºÑÐ¸Ð¸
   - Ð‘ÐµÐ· Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²

ðŸŒ± 4. ÐŸÑ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑƒÐ¿Ñ€Ð°Ð¶Ð½ÐµÐ½Ð¸Ðµ
   - ÐšÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð°Ñ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ° Ð½Ð° 5-10 Ð¼Ð¸Ð½
   - Ð”Ð»Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ

ÐŸÐ Ð˜ÐœÐ•Ð  Ð’ÐžÐŸÐ ÐžÐ¡ÐžÐ’:
â€¢ "ÐšÐ°Ðº Ð›ÑƒÐ½Ð° Ð² Ð’ÐµÑÐ°Ñ… Ð²Ð»Ð¸ÑÐµÑ‚ Ð½Ð° Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ?"
â€¢ "Ð¡Ð°Ñ‚ÑƒÑ€Ð½ Ð² 10 Ð´Ð¾Ð¼Ðµ â€” Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Ð´Ð»Ñ ÐºÐ°Ñ€ÑŒÐµÑ€Ñ‹?"
â€¢ "ÐšÐ°Ðº Ð¿Ñ€Ð¾Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð°ÑÐ¿ÐµÐºÑ‚ ÐœÐ°Ñ€Ñ-ÐŸÐ»ÑƒÑ‚Ð¾Ð½?"
â€¢ "Ð§Ñ‚Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¼Ð¾Ð¹ Ð²Ð¾ÑÑ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ Ð·Ð½Ð°Ðº Ð¾ Ð¼Ð¾ÐµÐ¼ ÑÑ‚Ð¸Ð»Ðµ?"

ðŸ’¡ ÐŸÐžÐœÐÐ˜Ð¢Ð•:
â€¢ ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ â€” Ð½Ðµ Ð¿Ñ€Ð¸Ð³Ð¾Ð²Ð¾Ñ€, Ð° ÑÐ·Ñ‹Ðº ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
â€¢ Ð£ Ð²Ð°Ñ Ð²ÑÐµÐ³Ð´Ð° ÐµÑÑ‚ÑŒ ÑÐ²Ð¾Ð±Ð¾Ð´Ð° Ð²Ñ‹Ð±Ð¾Ñ€Ð°
â€¢ Ð¡Ð»Ð¾Ð¶Ð½Ñ‹Ðµ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¸ â€” Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð´Ð»Ñ Ñ€Ð¾ÑÑ‚Ð°

ðŸ’ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°: /donate
        """
        
        await update.message.reply_text(
            help_text,
            parse_mode=ParseMode.MARKDOWN
        )
        
    async def donate_command(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /donate"""
        required_fields = ["card_number", "bank", "cardholder", "additional_info"]
        missing_fields = [field for field in required_fields if not DONATION_DETAILS.get(field)]
        
        if missing_fields:
            logger.error(f"Missing donation details: {missing_fields}")
            await update.message.reply_text(
                "âš ï¸ Ð ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ.",
                parse_mode=ParseMode.MARKDOWN
            )
            return
        
        donation_text = f"""
ðŸ’– ÐŸÐžÐ”Ð”Ð•Ð Ð–ÐÐ¢Ð¬ ÐŸÐ ÐžÐ•ÐšÐ¢

ÐžÐ±Ñ‰ÐµÐ½Ð¸Ðµ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾, Ð½Ð¾ ÐµÑÐ»Ð¸ Ð¼Ð¾Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽÑ‚ Ð²Ð°Ð¼ Ð½Ð° Ð¿ÑƒÑ‚Ð¸ ÑÐ°Ð¼Ð¾Ð¿Ð¾Ð·Ð½Ð°Ð½Ð¸Ñ â€” Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ñ‚Ðµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ!

Ð Ð•ÐšÐ’Ð˜Ð—Ð˜Ð¢Ð«:
ðŸ’³ ÐšÐ°Ñ€Ñ‚Ð°: `{DONATION_DETAILS['card_number']}`
ðŸ¦ Ð‘Ð°Ð½Ðº: {DONATION_DETAILS['bank']}
ðŸ‘¤ ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»ÑŒ: {DONATION_DETAILS['cardholder']}

{DONATION_DETAILS['additional_info']}

Ð›ÑŽÐ±Ð°Ñ ÑÑƒÐ¼Ð¼Ð° Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚:
â€¢ Ð£Ð»ÑƒÑ‡ÑˆÐ°Ñ‚ÑŒ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²
â€¢ Ð”Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
â€¢ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ 24/7

Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ð²Ð°ÑˆÑƒ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ! ðŸ™
        """
        
        keyboard = [
            [InlineKeyboardButton("âœ… Ð¯ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ð» Ð¿Ñ€Ð¾ÐµÐºÑ‚", callback_data="donated")],
            [InlineKeyboardButton("ðŸ“‹ Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹", callback_data="copy_details")]
        ]
        reply_markup = InlineKeyboardMarkup(keyboard)
        
        await update.message.reply_text(
            donation_text,
            parse_mode=ParseMode.MARKDOWN,
            reply_markup=reply_markup
        )
        
    async def button_callback(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ð¹ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÐ¸"""
        query = update.callback_query
        await query.answer()
        
        if query.data == "donated":
            await query.edit_message_text(
                "ðŸ™ Ð¡ÐŸÐÐ¡Ð˜Ð‘Ðž! Ð’Ð°Ñˆ Ð²ÐºÐ»Ð°Ð´ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ñ€Ð°Ð·Ð²Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ Ðº ÑÐ°Ð¼Ð¾Ð¿Ð¾Ð·Ð½Ð°Ð½Ð¸ÑŽ. âœ¨",
                parse_mode=ParseMode.MARKDOWN
            )
            
        elif query.data == "copy_details":
            details_text = f"ÐšÐ°Ñ€Ñ‚Ð°: {DONATION_DETAILS['card_number']}\nÐ‘Ð°Ð½Ðº: {DONATION_DETAILS['bank']}"
            await context.bot.send_message(
                chat_id=query.message.chat_id,
                text=f"`{details_text}`\n\nÐ ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹.",
                parse_mode=ParseMode.MARKDOWN
            )
            
    async def reset_command(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /reset"""
        user_id = update.effective_user.id
        self.user_sessions[user_id] = []
        
        await update.message.reply_text(
            "â™»ï¸ Ð”Ð˜ÐÐ›ÐžÐ“ Ð¡Ð‘Ð ÐžÐ¨Ð•Ð!\n\nÐ“Ð¾Ñ‚Ð¾Ð² Ðº Ð½Ð¾Ð²Ð¾Ð¼Ñƒ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸ÑŽ. Ð—Ð°Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ! ðŸŒŸ",
            parse_mode=ParseMode.MARKDOWN
        )
        
    async def feedback_command(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /feedback"""
        feedback_text = """
ðŸ“ ÐžÐ¢Ð—Ð«Ð’

Ð’Ð°ÑˆÐµ Ð¼Ð½ÐµÐ½Ð¸Ðµ Ð²Ð°Ð¶Ð½Ð¾! ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ:
â€¢ Ð§Ñ‚Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾?
â€¢ Ð§Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ?
â€¢ Ð˜Ð´ÐµÐ¸ Ð´Ð»Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹

Ð’Ð°Ñˆ Ð¾Ñ‚Ð·Ñ‹Ð² Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒÑÑ Ð»ÑƒÑ‡ÑˆÐµ! ðŸŒŸ
        """
        
        await update.message.reply_text(
            feedback_text,
            parse_mode=ParseMode.MARKDOWN
        )
        
    async def handle_feedback(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²"""
        user = update.effective_user
        feedback = update.message.text
        
        feedback_data = {
            "user_id": user.id,
            "username": user.username,
            "first_name": user.first_name,
            "feedback": feedback,
            "timestamp": datetime.now().isoformat()
        }
        
        logger.info(f"Feedback received: {feedback_data}")
        
        if ADMIN_CHAT_ID:
            admin_message = f"""
ðŸ“¨ ÐÐžÐ’Ð«Ð™ ÐžÐ¢Ð—Ð«Ð’

ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ: {user.first_name} (@{user.username})
ÐžÑ‚Ð·Ñ‹Ð²: {feedback}
            """
            
            try:
                await context.bot.send_message(
                    chat_id=ADMIN_CHAT_ID,
                    text=admin_message,
                    parse_mode=ParseMode.MARKDOWN
                )
            except Exception as e:
                logger.error(f"Failed to send feedback to admin: {e}")
        
        await update.message.reply_text(
            "âœ… Ð¡ÐŸÐÐ¡Ð˜Ð‘Ðž! Ð’Ð°Ñˆ Ð¾Ñ‚Ð·Ñ‹Ð² Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ ÐµÑ‰Ðµ Ð³Ð»ÑƒÐ±Ð¶Ðµ. ðŸŒŸ",
            parse_mode=ParseMode.MARKDOWN
        )
        
    def get_user_session(self, user_id: int) -> list:
        """ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ"""
        if user_id not in self.user_sessions:
            self.user_sessions[user_id] = [
                {"role": "system", "content": SYSTEM_PROMPT}
            ]
        return self.user_sessions[user_id]
        
async def call_deepseek_api(self, messages: list) -> Optional[str]:
    """Ð’Ñ‹Ð·Ð¾Ð² DeepSeek API Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼"""
    
    # Ð›Ð¾Ð³Ð¸Ñ€ÑƒÐµÐ¼ Ð½Ð°Ñ‡Ð°Ð»Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°
    last_message = messages[-1]["content"] if messages else "Ð¿ÑƒÑÑ‚Ð¾"
    logger.info(f"ðŸ“¨ ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð² DeepSeek. ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ: {last_message[:100]}...")
    logger.info(f"ðŸ“Š Ð’ÑÐµÐ³Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ð² Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸: {len(messages)}")
    
    headers = {
        "Authorization": f"Bearer {DEEPSEEK_API_KEY}",
        "Content-Type": "application/json",
        "Accept": "application/json"
    }
    
    payload = {
        "model": "deepseek-chat",
        "messages": messages,
        "temperature": 0.7,
        "max_tokens": 2000,  # Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð» Ð´Ð»Ñ Ð½Ð°Ñ‚Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÐºÐ°Ñ€Ñ‚
        "stream": False
    }
    
    try:
        async with httpx.AsyncClient(timeout=60.0) as client:  # Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð» Ñ‚Ð°Ð¹Ð¼Ð°ÑƒÑ‚
            logger.info(f"ðŸ”— ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÑŽÑÑŒ Ðº {DEEPSEEK_API_URL}")
            logger.info(f"ðŸ”‘ API ÐºÐ»ÑŽÑ‡ Ð¿Ñ€Ð¸ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚: {'Ð”Ð°' if DEEPSEEK_API_KEY else 'ÐÐµÑ‚'}")
            
            response = await client.post(
                DEEPSEEK_API_URL,
                headers=headers,
                json=payload
            )
            
            # Ð›ÐžÐ“Ð˜Ð Ð£Ð•Ðœ Ð’Ð¡Ð• Ð”Ð•Ð¢ÐÐ›Ð˜
            logger.info(f"ðŸ“Š ÐžÑ‚Ð²ÐµÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½. Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: {response.status_code}")
            logger.info(f"ðŸ“Š Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð°: {dict(response.headers)}")
            
            # Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
            response_text = response.text
            logger.info(f"ðŸ“Š Ð¢ÐµÐ»Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð° (Ð¿ÐµÑ€Ð²Ñ‹Ðµ 1000 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²): {response_text[:1000]}")
            
            if response.status_code == 200:
                try:
                    data = response.json()
                    logger.info(f"âœ… JSON ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ñ€Ð°ÑÐ¿Ð°Ñ€ÑÐµÐ½")
                    
                    # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð¾Ñ‚Ð²ÐµÑ‚Ð°
                    if "choices" not in data:
                        logger.error(f"âŒ ÐÐµÑ‚ ÐºÐ»ÑŽÑ‡Ð° 'choices' Ð² Ð¾Ñ‚Ð²ÐµÑ‚Ðµ. ÐšÐ»ÑŽÑ‡Ð¸: {data.keys()}")
                        return None
                    
                    if not data["choices"]:
                        logger.error(f"âŒ ÐŸÑƒÑÑ‚Ð¾Ð¹ Ð¼Ð°ÑÑÐ¸Ð² choices. ÐžÑ‚Ð²ÐµÑ‚: {data}")
                        return None
                    
                    if "message" not in data["choices"][0]:
                        logger.error(f"âŒ ÐÐµÑ‚ ÐºÐ»ÑŽÑ‡Ð° 'message' Ð² choice. Choice: {data['choices'][0]}")
                        return None
                    
                    result = data["choices"][0]["message"].get("content", "")
                    
                    if not result:
                        logger.warning("âš ï¸ ÐŸÑƒÑÑ‚Ð¾Ð¹ content Ð² Ð¾Ñ‚Ð²ÐµÑ‚Ðµ")
                        result = "Ð˜Ð·Ð²Ð¸Ð½Ð¸Ñ‚Ðµ, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½ Ð¿ÑƒÑÑ‚Ð¾Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¾Ñ‚ AI. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÑ„Ð¾Ñ€Ð¼ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ."
                    
                    logger.info(f"âœ… Ð£ÑÐ¿ÐµÑˆÐ½Ð¾. Ð”Ð»Ð¸Ð½Ð° Ð¾Ñ‚Ð²ÐµÑ‚Ð°: {len(result)} ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²")
                    return result
                    
                except json.JSONDecodeError as e:
                    logger.error(f"âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð´ÐµÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ JSON: {e}")
                    logger.error(f"âŒ Ð¡Ñ‹Ñ€Ð¾Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚: {response_text[:500]}")
                    return f"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð° AI. ÐžÑ‚Ð²ÐµÑ‚ Ð½Ðµ Ð² JSON Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ."
                    
            elif response.status_code == 429:
                # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ Ð»Ð¸Ð¼Ð¸Ñ‚Ð¾Ð²
                limit = response.headers.get('x-ratelimit-limit', 'Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾')
                remaining = response.headers.get('x-ratelimit-remaining', 'Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾')
                reset = response.headers.get('x-ratelimit-reset', 'Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾')
                
                logger.error(f"âŒ Ð›Ð˜ÐœÐ˜Ð¢ 429. Limit: {limit}, Remaining: {remaining}, Reset: {reset}")
                logger.error(f"âŒ ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚: {response_text}")
                
                return "âš ï¸ ÐŸÑ€ÐµÐ²Ñ‹ÑˆÐµÐ½ Ð»Ð¸Ð¼Ð¸Ñ‚ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ðº AI. DeepSeek Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°ÐµÑ‚ Ð´Ð°Ð¶Ðµ Ð¿Ð»Ð°Ñ‚Ð½Ñ‹Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ñ‹. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ‡ÐµÑ€ÐµÐ· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð¸Ð½ÑƒÑ‚."
                
            elif response.status_code == 401:
                logger.error(f"âŒ ÐžÐ¨Ð˜Ð‘ÐšÐ ÐÐ’Ð¢ÐžÐ Ð˜Ð—ÐÐ¦Ð˜Ð˜ 401. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ API ÐºÐ»ÑŽÑ‡.")
                logger.error(f"âŒ Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸: {dict(response.headers)}")
                
                # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ ÐºÐ»ÑŽÑ‡Ð°
                if DEEPSEEK_API_KEY:
                    key_preview = DEEPSEEK_API_KEY[:10] + "..." if len(DEEPSEEK_API_KEY) > 10 else DEEPSEEK_API_KEY
                    logger.error(f"âŒ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ (Ð¿ÐµÑ€Ð²Ñ‹Ðµ 10 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²): {key_preview}")
                
                return "âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ API. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ API ÐºÐ»ÑŽÑ‡Ð°."
                
            elif response.status_code == 400:
                logger.error(f"âŒ ÐžÐ¨Ð˜Ð‘ÐšÐ 400 (Bad Request). Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ.")
                logger.error(f"âŒ Ð”Ð»Ð¸Ð½Ð° Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°: {len(str(payload))} ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²")
                logger.error(f"âŒ ÐžÑ‚Ð²ÐµÑ‚: {response_text[:500]}")
                
                # Ð£Ð¿Ñ€Ð¾Ñ‰Ð°ÐµÐ¼ Ð·Ð°Ð¿Ñ€Ð¾Ñ ÐµÑÐ»Ð¸ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹
                if len(messages) > 5:
                    logger.info("ðŸ”„ Ð¡Ð¾ÐºÑ€Ð°Ñ‰Ð°ÑŽ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹...")
                    simplified_messages = [messages[0]] + messages[-3:]  # Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ + Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 3
                    return await self.call_deepseek_api(simplified_messages)
                
                return "âš ï¸ Ð—Ð°Ð¿Ñ€Ð¾Ñ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ð¹. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð·Ð°Ð´Ð°Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ ÐºÐ¾Ñ€Ð¾Ñ‡Ðµ Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ /reset."
                
            elif response.status_code == 503:
                logger.error("âŒ Ð¡Ð•Ð Ð’Ð˜Ð¡ ÐÐ•Ð”ÐžÐ¡Ð¢Ð£ÐŸÐ•Ð 503. ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð½Ð° ÑÑ‚Ð¾Ñ€Ð¾Ð½Ðµ DeepSeek.")
                return "ðŸŒ™ Ð¡ÐµÑ€Ð²Ð¸Ñ AI Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ‡ÐµÑ€ÐµÐ· 10-15 Ð¼Ð¸Ð½ÑƒÑ‚."
                
            else:
                logger.error(f"âŒ ÐÐ•Ð˜Ð—Ð’Ð•Ð¡Ð¢ÐÐÐ¯ ÐžÐ¨Ð˜Ð‘ÐšÐ: {response.status_code}")
                logger.error(f"âŒ ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚: {response_text}")
                return f"âš ï¸ ÐžÑˆÐ¸Ð±ÐºÐ° AI ÑÐµÑ€Ð²Ð¸ÑÐ° (ÐºÐ¾Ð´ {response.status_code}). ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ."
                
    except httpx.TimeoutException:
        logger.error("â° Ð¢ÐÐ™ÐœÐÐ£Ð¢ 60 ÑÐµÐºÑƒÐ½Ð´. Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð´Ð¾Ð»Ð³Ð¸Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¾Ñ‚ DeepSeek.")
        return "â³ AI Ð´Ð¾Ð»Ð³Ð¾ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð¾Ñ. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð·Ð°Ð´Ð°Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¿Ñ€Ð¾Ñ‰Ðµ Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ."
        
    except httpx.ConnectError:
        logger.error("ðŸ”Œ ÐžÐ¨Ð˜Ð‘ÐšÐ ÐŸÐžÐ”ÐšÐ›Ð®Ð§Ð•ÐÐ˜Ð¯. ÐÐµÑ‚ ÑÐ²ÑÐ·Ð¸ Ñ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ DeepSeek.")
        return "ðŸŒ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸ÐµÐ¼ Ð¸Ð»Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ AI."
        
    except Exception as e:
        logger.error(f"ðŸ’¥ ÐÐ•ÐžÐ–Ð˜Ð”ÐÐÐÐÐ¯ ÐžÐ¨Ð˜Ð‘ÐšÐ: {e}", exc_info=True)
        return "âŒ ÐÐµÐ¿Ñ€ÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð´Ð¸Ð°Ð»Ð¾Ð³ /reset."
            
    async def handle_message(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹"""
        user = update.effective_user
        user_message = update.message.text
        
        if context.user_data.get('awaiting_feedback', False):
            context.user_data['awaiting_feedback'] = False
            await self.handle_feedback(update, context)
            return
            
        await update.message.chat.send_action(action="typing")
        
        user_history = self.get_user_session(user.id)
        user_history.append({"role": "user", "content": user_message})
        
        if len(user_history) > self.max_history:
            user_history = [user_history[0]] + user_history[-(self.max_history-1):]
            
        try:
            bot_response = await self.call_deepseek_api(user_history)
            
            if bot_response:
                user_history.append({"role": "assistant", "content": bot_response})
                self.user_sessions[user.id] = user_history
                
                await update.message.reply_text(
                    bot_response,
                    parse_mode=None
                )
                
                # ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ Ð¾ Ð´Ð¾Ð½Ð°Ñ‚Ðµ
                now = datetime.now()
                last_reminder = self.user_last_donation_reminder.get(user.id)
                
                should_send_reminder = False
                
                if last_reminder is None:
                    should_send_reminder = True
                elif (now - last_reminder) >= self.donation_reminder_interval:
                    if random.random() < self.donation_reminder_chance:
                        should_send_reminder = True
                
                if should_send_reminder:
                    reminder_text = """
ðŸ’ ÐÐÐŸÐžÐœÐ˜ÐÐÐÐ˜Ð• Ðž ÐŸÐžÐ”Ð”Ð•Ð Ð–ÐšÐ•

Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ "Ð°ÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð¸Ñ ÐºÐ°Ðº Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ" Ð¿Ð¾Ð»ÐµÐ·ÐµÐ½ Ð²Ð°Ð¼, Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ñ‚Ðµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°!

ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ ÑÑ‚Ð¾ Ð²Ð°Ð¶Ð½Ð¾:
â€¢ ÐŸÐ¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ ÑƒÐ³Ð»ÑƒÐ±Ð»ÑÑ‚ÑŒ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´
â€¢ ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð¸ÐºÐ¸
â€¢ Ð”ÐµÐ»Ð°ÐµÑ‚ ÑÐ°Ð¼Ð¾Ð¿Ð¾Ð·Ð½Ð°Ð½Ð¸Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½ÐµÐµ

ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ: /donate

Ð›ÑŽÐ±Ð°Ñ ÑÑƒÐ¼Ð¼Ð° â€” Ð²ÐºÐ»Ð°Ð´ Ð² Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ! ðŸ™
                    """
                    
                    await update.message.reply_text(
                        reminder_text,
                        parse_mode=ParseMode.MARKDOWN
                    )
                    self.user_last_donation_reminder[user.id] = now
                
            else:
                await update.message.reply_text(
                    "âš ï¸ ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚. Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐµÐ½ Ð»Ð¸Ð¼Ð¸Ñ‚ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð². ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ‡ÐµÑ€ÐµÐ· Ñ‡Ð°Ñ."
                )
                
        except Exception as e:
            logger.error(f"Error in handle_message: {e}")
            await update.message.reply_text(
                "âŒ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ /reset."
            )
            
    async def error_handler(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
        """ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð¾ÑˆÐ¸Ð±Ð¾Ðº"""
        logger.error(f"Update {update} caused error {context.error}")
        
        if update and update.effective_message:
            await update.effective_message.reply_text(
                "ðŸ˜” ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð· Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ /reset.",
                parse_mode=ParseMode.MARKDOWN
            )

# Ð“Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑŽ
application = None

def setup_bot():
    """ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð±Ð¾Ñ‚Ð°"""
    global application
    
    # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
    if not TELEGRAM_BOT_TOKEN:
        raise ValueError("TELEGRAM_BOT_TOKEN Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½")
    if not DEEPSEEK_API_KEY:
        raise ValueError("DEEPSEEK_API_KEY Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½")
        
    # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
    application = Application.builder().token(TELEGRAM_BOT_TOKEN).build()
    
    # Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð±Ð¾Ñ‚Ð°
    astrobot = AstroBot()
    
    # Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð²
    application.add_handler(CommandHandler("start", astrobot.start))
    application.add_handler(CommandHandler("help", astrobot.help_command))
    application.add_handler(CommandHandler("donate", astrobot.donate_command))
    application.add_handler(CommandHandler("reset", astrobot.reset_command))
    application.add_handler(CommandHandler("feedback", astrobot.feedback_command))
    
    application.add_handler(CallbackQueryHandler(astrobot.button_callback))
    
    # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, astrobot.handle_message))
    
    # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð¾ÑˆÐ¸Ð±Ð¾Ðº
    application.add_error_handler(astrobot.error_handler)
    
    return application

# ============ ÐžÐ¡ÐÐžÐ’ÐÐžÐ™ Ð‘Ð›ÐžÐš Ð—ÐÐŸÐ£Ð¡ÐšÐ ============
if __name__ == '__main__':
    import os
    from threading import Thread
    from http.server import BaseHTTPRequestHandler, HTTPServer
    
    # ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð¿Ð¾Ñ€Ñ‚ Ð¾Ñ‚ Railway
    port = int(os.environ.get("PORT", 8080))
    
    # === 1. ÐÐ°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÐ¼ Ð±Ð¾Ñ‚Ð° ===
    if application is None:
        application = setup_bot()
    
    # === 2. Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ healthcheck ÑÐµÑ€Ð²ÐµÑ€ Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¼ Ð¿Ð¾Ñ‚Ð¾ÐºÐµ ===
    def run_healthcheck_server():
        """Ð—Ð°Ð¿ÑƒÑÐº HTTP ÑÐµÑ€Ð²ÐµÑ€Ð° Ð´Ð»Ñ healthcheck Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¼ Ð¿Ð¾Ñ‚Ð¾ÐºÐµ"""
        class HealthHandler(BaseHTTPRequestHandler):
            def do_GET(self):
                if self.path == '/':
                    self.send_response(200)
                    self.send_header('Content-type', 'text/plain')
                    self.end_headers()
                    self.wfile.write(b'Bot is running')
                else:
                    self.send_response(404)
                    self.end_headers()
            
            def log_message(self, format, *args):
                pass
        
        try:
            server = HTTPServer(('0.0.0.0', port), HealthHandler)
            print(f"âœ… Healthcheck ÑÐµÑ€Ð²ÐµÑ€ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ñƒ {port}")
            server.serve_forever()
        except Exception as e:
            print(f"âŒ ÐžÑˆÐ¸Ð±ÐºÐ° healthcheck ÑÐµÑ€Ð²ÐµÑ€Ð°: {e}")
    
    # Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ healthcheck Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¼ Ð¿Ð¾Ñ‚Ð¾ÐºÐµ (Ð´ÐµÐ¼Ð¾Ð½)
    healthcheck_thread = Thread(target=run_healthcheck_server, daemon=True)
    healthcheck_thread.start()
    
    # === 3. Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð±Ð¾Ñ‚Ð° Ð² ÐžÐ¡ÐÐžÐ’ÐÐžÐœ Ð¿Ð¾Ñ‚Ð¾ÐºÐµ ===
    print("ðŸš€ Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ ÐÑÑ‚Ñ€Ð¾Ð»Ð¾Ð³Ð°-ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð°...")
    
    # ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
    domain = os.environ.get("RAILWAY_PUBLIC_DOMAIN", "")
    token = os.environ.get("TELEGRAM_BOT_TOKEN", "")
    
    if domain and token:
        # Ð—Ð°Ð¿ÑƒÑÐº Ñ‡ÐµÑ€ÐµÐ· Ð²ÐµÐ±Ñ…ÑƒÐº Ð½Ð° Railway
        webhook_url = f"https://{domain}/{token}"
        print(f"ðŸ“¡ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽ Ð²ÐµÐ±Ñ…ÑƒÐº: {domain}")
        
        application.run_webhook(
            listen="0.0.0.0",
            port=port,
            url_path=token,
            webhook_url=webhook_url,
            cert=None
        )
    else:
        # Ð—Ð°Ð¿ÑƒÑÐº Ñ‡ÐµÑ€ÐµÐ· polling
        print("âš ï¸ Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ polling...")
        
        application.run_polling(
            allowed_updates=Update.ALL_TYPES,
            close_loop=False,
            stop_signals=None
        )
    
    print("ðŸ›‘ Ð‘Ð¾Ñ‚ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½")
